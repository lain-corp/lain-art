---
import { initAuth } from "../lib/auth.ts";
import '../styles/header.css'
---

<header>
  <div class="nav-container">
    <!-- Left: Logo -->
    <a href="/" class="logo">lain.art</a>

    <!-- Middle: Nav -->
    <nav id="nav">
      <a href="/how-to">Howâ€‘To</a>
      <button id="auth-btn" class="auth-btn">Authenticate</button>
    </nav>

    <!-- Mobile Menu Button -->
    <div id="menu-btn" class="menu-btn">
      <span></span><span></span><span></span>
    </div>
  </div>
</header>

<script type="module">
  import { initAuth } from "../lib/auth.ts";

  window.addEventListener("DOMContentLoaded", () => {
    // Initialize the auth button globally so it works on every page
    initAuth("auth-btn");

    // Mobile menu toggle
    const btn = document.getElementById("menu-btn");
    const nav = document.getElementById("nav");
    btn?.addEventListener("click", () => nav?.classList.toggle("active"));
  });
</script>
